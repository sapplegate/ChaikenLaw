@inherits UmbracoViewPage<Contact>
@using ContentModels = Umbraco.Web.PublishedModels;
@{
    Layout = "master.cshtml";


    //var coordinates = Model.MapCoordinates.ToString().Split(',');

    //var latitude = coordinates[0];
    //var longitude = coordinates[1];
    //var zoomLevel = coordinates[2];

    //// Build the coordinates string
    //var coordinatesString = longitude + "," + latitude + "," + longitude + "," + latitude;
}

@*@Html.Partial("~/Views/Partials/SectionHeader.cshtml")*@

<script src="https://www.google.com/recaptcha/api.js" async defer></script>

<div class="contact">

    <header>
        @if (Model.HeroBannerDisplayPageTitle)
        {
            <h1>@Model.Name</h1>
        }
        @*@if (Model.HeroBannerImage != null)
            {
                <img src="@Model.HeroBannerImage.Url" />
            }*@
        <div class="container">
            <div class="row">
                <div class="col col-md-8 col-sm-12">
                    <p>@Model.HeroBannerHeaderText</p>
                </div>
                <div class="col col-12">
                    @Model.ContactBodyContent
                </div>
            </div>
        </div>
    </header>
    <section>
        <div class="row ml-0 mr-0">
            <div class="col-md-6 col-sm-12 p-0 section-alt">
                <div class="container content-padding-left">
                    <div class="row">
                        <div class="col-md-12">
                            @Html.Action("Index", "ContactFormSurface")
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-6 col-sm-12 p-0 d-none d-md-block">
                <img src="@Model.ContactImage.Url" />
            </div>
        </div>
    </section>


</div>



@section scripts {

    <script type="text/javascript">

        $(document).ready(function () {
            $('a.btn-submit').click(function () {
                var response = grecaptcha.getResponse();

                if (response.length == 0) {
                    $("#error-captcha").show();
                }
                else
                {
                    $("#error-captcha").hide();
                    $('form').submit();
                }
            });
        });

        function OnSuccess(response) {
            console.log('success');
            $('#contactFormSuccess').show();
            $('#contactFormFailure').hide();
        }
        function OnFailure(response) {
            console.log('failure');
            $('#contactFormSuccess').show();
            $('#contactFormFailure').hide();
            $('#contactForm').hide();
        }
    </script>
}