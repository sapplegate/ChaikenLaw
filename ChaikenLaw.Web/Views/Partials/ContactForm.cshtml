
@model ChaikenLaw.Web.Models.ContactFormViewModel



@using (Ajax.BeginForm("ContactFormSurfaceController", "Index", new AjaxOptions
{
    HttpMethod = "POST",
    OnSuccess = "OnSuccess",
    OnFailure = "OnFailure",
}))
{

    <h2>Reach Out</h2>
    <div class="form-group">
        <label for="name">Name</label>
        @Html.TextBoxFor(m => m.Name, new { id = "name", @class = "form-control" })
    </div>
    <div class="form-group">
        <label for="email">Email</label>
        @Html.TextBoxFor(m => m.Email, new { id = "email", type = "email", @class = "form-control" })
    </div>
    <div class="form-group">
        <label for="txtPhone">Phone</label>
        @Html.TextBoxFor(m => m.Phone, new { id = "phone", @class = "form-control" })
    </div>
    <div class="form-group">
        <label for="message">Tell us how we can help you</label>
        @Html.TextAreaFor(m => m.Message, new { id = "message", @class = "form-control", rows = "8" })
    </div>
    <a class="btn btn-submit">
        Submit
        &nbsp;<i class="fa fa-chevron-right"></i>
    </a>

    @Html.ValidationSummary()
    <div id="contactFormSuccess" style="display: none">Thank you for contacting us!</div>
    <div id="contactFormFailure" style="display: none">An error has occurred</div>
}

@section scripts {
    <script type="text/javascript">

        $(document).ready(function () {
            $('a.btn-submit').click(function () {
                $('form').submit();
            });

        });

        function OnSuccess(response) {
            $('#contactFormSuccess').show();
            $('#contactFormFailure').hide();
        }
        function OnFailure(response) {
            $('#contactFormSuccess').hide();
            $('#contactFormFailure').show();
        }
    </script>
}